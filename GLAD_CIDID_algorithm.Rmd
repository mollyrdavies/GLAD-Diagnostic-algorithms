---
title: "CIDI MDD Diagnostic Algorithm (GLAD Study data)"
author: "Molly Davies and Megan Skelton"
date: "21/05/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Set up

Clear workspace
```{r clear workspace}
rm(list = ls())
```

```{r load packages}
library(tidyverse)
library(psych)
library(summarytools)
```

```{r source path for reading/saving data}
#Source raw data directory (raw_path) & clean data export directory (cleaned_path)
source("../GLAD_data_path.R")
```

```{r read in cleaned CIDID data}
CIDID_file <- paste(raw_path, "CIDID.rds", sep = "")

CIDID.cc <- read_rds(CIDID_file)
```

```{r visualise CIDID data}
head(CIDID.cc)
```

```{r create dataset of MDD diagnostic variables}

#Create dataset of all variables needed for MDD diagnosis
CIDID.items <- CIDID.cc %>% 
  select(ID, 
         cidid.low_mood,
         cidid.anhedonia,
         cidid.how_long, 
         cidid.how_often,
         cidid.weight_change,
         cidid.appetite_change, 
         cidid.sleep_change, 
         cidid.fatigue, 
         cidid.worthlessness, 
         cidid.trouble_concentrating, 
         cidid.thoughts_of_death, 
         cidid.functioning, 
         cidid.adverse_life_event,
         cidid.low_mood_numeric,
         cidid.anhedonia_numeric,
         cidid.how_long_numeric, 
         cidid.how_often_numeric,
         cidid.weight_change_numeric,
         cidid.appetite_change_numeric, 
         cidid.sleep_change_numeric, 
         cidid.fatigue_numeric, 
         cidid.worthlessness_numeric, 
         cidid.trouble_concentrating_numeric, 
         cidid.thoughts_of_death_numeric, 
         cidid.functioning_numeric, 
         cidid.adverse_life_event_numeric
         )
```

```{r recode as NA's}
#Change all prefer not to answers and don't knows to NA
CIDID.items[CIDID.items == "Don't know"] <- NA
CIDID.items[CIDID.items == "Prefer not to answer"] <- NA
CIDID.items[CIDID.items == "Seen but not answered"] <- NA
CIDID.items[CIDID.items == -88] <- NA
CIDID.items[CIDID.items == -99] <- NA
CIDID.items[CIDID.items == -77] <- NA
```

### DSM-5 MDD Diagnostic Algorithm

A.  Five (or more) of the following symptoms have been present during the same 2-week period and represent a change from previous functioning: at least one of the symptoms is either (1) depressed mood or (2)  loss of interest or pleasure.
Note: Do not include symptoms that are clearly attributable to another medical condition.
  1.   Depressed mood most of the day,  nearly every day,  as indicated by either subjective  report  (e.g.,  feels sad,  empty,  hopeless)  or observation  made  by others  (e.g.,appears tearful). 
  (Note: In children and adolescents,  can be irritable mood.)
  2.   Markedly diminished  interest or pleasure in all,  or almost all,  activities  most of the day,  nearly every day (as indicated  by either subjective account or observation).
  3.   Significant weight loss when not dieting or weight gain (e.g., a change of more than5% of body weight in a month), or decrease or increase in appetite nearly every day.(Note: In children, consider failure to make expected weight gain.)
  4.   Insomnia or hypersomnia nearly every day.
  5.   Psychomotor agitation  or  retardation  nearly  every day  (observable  by others,  notmerely subjective feelings of restlessness or being slowed down).*
  6.   Fatigue or loss of energy nearly every day.
  7.   Feelings of worthlessness or excessive or inappropriate guilt* (which  may be delusional)  nearly every day (not merely self-reproach or guilt about being sick).
  8.   Diminished  ability to think or concentrate,  or indecisiveness,  nearly every day  (either by subjective account or as observed by others).
  9.   Recurrent thoughts of death (not just fear of dying), recurrent suicidal ideation without a specific plan,  or a suicide attempt or a specific plan for committing suicide
  
B.  The  symptoms  cause  clinically  significant  distress*  or  impairment  in  social,  occupational, or other important areas of functioning.

C.  The episode is not attributable to the physiological effects of a substance or to another medical condition.*

Note: Criteria A-C  represent a major depressive episode.

D.  The  occurrence  of the  major depressive  episode  is  not  better explained  by  schizoaffective  disorder,  schizophrenia,  schizophreniform  disorder,  delusional  disorder,  orother specified and unspecified schizophrenia spectrum and other psychotic disorders.*

E.  There has never been a manic episode or a hypomanic episode.*
Note: This exclusion does not apply if all of the manic-like or hypomanic-like episodesare substance-induced or are attributable to the physiological effects of another medical condition.


*The CIDID does not measure these items


## Screening variables
The major depressive disorder screening questions include:
1) Low mood or anhedonia (criterion A)

*How the screening questions work*
If the participant responds No (0) to both low mood and anhedonia variables, they are scored 0 for diagnosis and skip the rest of the MDD section.


Create combined low mood & anhedonia screening variable.
```{r variable for low mood & anhedonia screener}
#A. at least one of the symptoms is either (1) depressed mood or (2)  loss of interest or pleasure.
CIDID.items <- CIDID.items %>% 
  mutate(cidid.screener_numeric = 
           case_when(
             cidid.low_mood == "No" & cidid.anhedonia == "No" ~ 0,
             cidid.low_mood == "Yes" ~ 1,
             cidid.anhedonia == "Yes" ~ 1
           )
  )

freq(CIDID.items$cidid.screener_numeric)

```


## Criterion variables
In each case where more than 1 response fulfills a diagnostic criterion, a new variable is created.

Note: These criterion variables will have a large number of NAs if the screening criteria aren't met, as the question is not displayed in these cases. This is accounted for in the algorithm.

Weight & appetite screen
Criterion A.3. Significant weight loss when not dieting or weight gain (e.g., a change of more than5% of body weight in a month), or decrease or increase in appetite nearly every day.(Note: In children, consider failure to make expected weight gain.)

These variables were separated in the CIDID but fulfil a single criterion in the DSM5, so are combined.

```{r variable for criterion A.3 weight & appetite change}
#Create variable for weight & appetite change (separate questions in the CIDID)
CIDID.items <- CIDID.items %>% 
  mutate(cidid.weight_appetite_change_numeric = 
           case_when(
             cidid.appetite_change == "No changes in appetite" & cidid.weight_change == "Stayed about the same or was on a diet" ~ 0,
             cidid.appetite_change == "Increased appetite" ~ 1,
             cidid.appetite_change == "Decreased appetite" ~ 1,
             cidid.appetite_change == "Experienced both increased an decreased appetite during the same depression episode" ~ 1,
             cidid.weight_change == "Lost weight" ~ 1,
             cidid.weight_change == "Gained weight" ~ 1,
             cidid.weight_change == "Both gained weight and lost some weight during the episode" ~ 1
           ))

summary(as.factor(CIDID.items$cidid.weight_appetite_change_numeric))

```

Calculate depression symptoms 'score' (the number of criterion A symptoms endorsed)

Criterion A: Five (or more) of the following symptoms have been present during the same 2-week period and represent a change from previous functioning:
1.   Depressed mood most of the day,  nearly every day,  as indicated by either subjective  report  (e.g.,  feels sad,  empty,  hopeless)  or observation  made  by others  (e.g.,appears tearful). 
  (Note: In children and adolescents,  can be irritable mood.)
  2.   Markedly diminished  interest or pleasure in all,  or almost all,  activities  most of the day,  nearly every day (as indicated  by either subjective account or observation).
  3.   Significant weight loss when not dieting or weight gain (e.g., a change of more than5% of body weight in a month), or decrease or increase in appetite nearly every day.(Note: In children, consider failure to make expected weight gain.)
  4.   Insomnia or hypersomnia nearly every day.
  5.   Psychomotor agitation  or  retardation  nearly  every day  (observable  by others,  notmerely subjective feelings of restlessness or being slowed down).***
  6.   Fatigue or loss of energy nearly every day.
  7.   Feelings of worthlessness or excessive or inappropriate guilt*** (which  may be delusional)  nearly every day (not merely self-reproach or guilt about being sick).
  8.   Diminished  ability to think or concentrate,  or indecisiveness,  nearly every day  (either by subjective account or as observed by others).
  9.   Recurrent thoughts of death (not just fear of dying), recurrent suicidal ideation without a specific plan,  or a suicide attempt or a specific plan for committing suicide

*A.5 - CIDID has no measure of psychomotor agitation or retardation
*A.7 - CIDID has no measure of inappropriate guilt, phrasing is 'feel down on themselves, no good, worthless'

```{r depression symptom score (criterion A)}
#Create score for depression symptoms
#Do NOT use 'is.na' for these as then you cannot +1 to it. Use the no.info item for NA (below). 
CIDID.items$cidid.criterion_A_score_numeric<-0

#Criterion A.1 - low mood
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items, 
                                    ifelse(!is.na(cidid.low_mood) 
                                           & cidid.low_mood == "Yes", 
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.2 - anhedonia
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items,
                                    ifelse(!is.na(cidid.anhedonia) 
                                           & cidid.anhedonia == "Yes",
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.3 - weight &/or appetite change
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items,
                                    ifelse(!is.na(cidid.weight_appetite_change_numeric) 
                                           & cidid.weight_appetite_change_numeric > 0,
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.4 - sleep change (insomnia or hypersomnia)
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items, 
                                    ifelse(!is.na(cidid.sleep_change) &
                                             cidid.sleep_change == "Yes", 
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.6 - fatigue or loss of energy
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items, 
                                    ifelse(!is.na(cidid.fatigue) & cidid.fatigue == "Yes", 
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.7 - Feelings of worthlesness
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items, 
                                    ifelse(!is.na(cidid.worthlessness) 
                                           & cidid.worthlessness == "Yes", 
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.8 - Diminished ability to concentrate
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items,
                                    ifelse(!is.na(cidid.trouble_concentrating) 
                                           & cidid.trouble_concentrating == "Yes",
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Criterion A.9 - Recurrent thoughts of death or suicidal ideation
CIDID.items$cidid.criterion_A_score_numeric<-with(CIDID.items, 
                                    ifelse(!is.na(cidid.thoughts_of_death) 
                                           & cidid.thoughts_of_death == "Yes", 
                                           cidid.criterion_A_score_numeric + 1, cidid.criterion_A_score_numeric))
#Check distribution of scores (range should be 0-8)
summary(as.factor(CIDID.items$cidid.criterion_A_score_numeric))

```

## Fix temporary coding error (April 2020 data freeze)
```{r recode incorrect MDD variable}
#These variables need to be re-exported with correct coding. At the moment they are backwards and need to be recoded.

#If "Every day" is less frequently endorsed than "Less often", cidid.how_often is recoded.
if (
  sum(ifelse(CIDID.items$cidid.how_often %in% "Less often", 1, 0)) > sum(ifelse(CIDID.items$cidid.how_often %in% "Every day", 1, 0))
  ) 
    {
      CIDID.items <- CIDID.items %>% 
        mutate(cidid.how_often = 
         case_when(
           cidid.how_often == "Every day" ~ "Less often",
           cidid.how_often == "Almost every day" ~ "Almost every day",
           cidid.how_often == "Less often" ~ "Every day"
         ))
}
#If "All day long" is less frequently endorsed than "Less than half of the day", cidid.how_long is recoded.
if (
  sum(ifelse(CIDID.items$cidid.how_long %in% "Less than half of the day", 1, 0)) > sum(ifelse(CIDID.items$cidid.how_long %in% "All day long", 1, 0))
  ) {
CIDID.items <- CIDID.items %>% 
  mutate(cidid.how_long = 
         case_when(
           cidid.how_long == "Less than half of the day" ~ "All day long",
           cidid.how_long == "About half of the day" ~ "Most of the day",
           cidid.how_long == "Most of the day" ~ "About half of the day",
           cidid.how_long == "All day long" ~ "Less than half of the day"
         ))
}

```


```{r variable for core MDD criteria}
#Create variable for meeting all core DSM MDD criteria
CIDID.items$cidid.depression_screen.calc <- with(CIDID.items,
                                           ifelse(
                                             #A. at least one of the symptoms is either (1) depressed mood or (2)  loss of interest or pleasure
                                             (cidid.low_mood == "Yes" | cidid.anhedonia == "Yes") &
                                               #A. most of the day
                                               (cidid.how_long == "All day long" | cidid.how_long == "Most of the day") & 
                                               #A. nearly every day
                                               (cidid.how_often == "Every day" | cidid.how_often == "Almost every day") &
                                               #B. The  symptoms  cause  clinically  significant  distress  or  impairment  in  social,  occupational, or other important areas of functioning. (*We don't have a good way of measuring "clinically significant distress", so this variable only relates to functioning)
                                               (cidid.functioning == "A lot" | cidid.functioning == "Some"), #A lot (3) or some (2) impairment
                                             1, 0
                                           )
                                          )

summary(as.factor(CIDID.items$cidid.depression_screen.calc))

```

## Missingness

```{r variable for missingness}
#Missing responses/no information on core symptoms
CIDID.items$no.info<-0
#+1 to missingness score if both low mood and anhedonia are missing
CIDID.items$no.info<-with(CIDID.items,
                             ifelse(is.na(cidid.low_mood) & is.na(cidid.anhedonia), 1, 0))
#+1 to missingness score if either duration, frequency, or functioning criteria have missing values
CIDID.items$no.info <- with(CIDID.items,
                               ifelse(is.na(cidid.how_long) |
                                        is.na(cidid.how_often) |
                                        is.na(cidid.functioning),
                                      no.info + 1, 0
                                                )
                                      )
summary(as.factor(CIDID.items$no.info))
```

```{r depression symptom NA count score}
#Create score to calculate how many missing values are in the depression symptom scores

CIDID.items$cidid.criterion_A_score_numeric.NA<-0

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items, 
                                    ifelse(is.na(cidid.low_mood), 
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items,
                                    ifelse(is.na(cidid.anhedonia),
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items,
                                    ifelse(is.na(cidid.weight_appetite_change_numeric),
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items, 
                                    ifelse(is.na(cidid.sleep_change), 
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items, 
                                    ifelse(is.na(cidid.fatigue), 
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items, 
                                    ifelse(is.na(cidid.worthlessness), 
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items,
                                    ifelse(is.na(cidid.trouble_concentrating),
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

CIDID.items$cidid.criterion_A_score_numeric.NA<-with(CIDID.items, 
                                    ifelse(is.na(cidid.thoughts_of_death), 
                                           cidid.criterion_A_score_numeric.NA + 1, cidid.criterion_A_score_numeric.NA))

summary(as.factor(CIDID.items$cidid.criterion_A_score_numeric.NA))

```

```{r lifetime MDD variable}

CIDID.items$cidid.lifetime_depression <- with(CIDID.items,
                                                      ifelse(
                                                        #Code lifetime MDD as NA if any core symptoms were missed
                                                        no.info > 0, NA,
                                                        #If at least 5 symptoms endorsed (criterion A)...
                                                        ifelse((!is.na(cidid.criterion_A_score_numeric) & cidid.criterion_A_score_numeric > 4)
                                                               #...and core symptoms are met
                                                               & (!is.na(cidid.depression_screen.calc) & cidid.depression_screen.calc == 1),
                                                               #Code lifetime MDD as 1
                                                               1, 0
                                                               )
                                                        )
                                                      )

summary(as.factor(CIDID.items$cidid.lifetime_depression))

```

```{r recode as NA for missingness in depression score}
#Ppts are coded NA if they didn't respond to the number of questions that could have met diagnostic criteria 
#(diagnostic criteria = 5 or more symptoms)
#e.g. if the ppt endorsed 3 symptoms, but didn't respond to minimum 2 other questions, then they are coded as NA

CIDID.items$cidid.lifetime_depression <- with(CIDID.items,
                                                      ifelse(cidid.criterion_A_score_numeric == 4 & cidid.criterion_A_score_numeric.NA > 0,
                                                             NA, cidid.lifetime_depression))

CIDID.items$cidid.lifetime_depression <- with(CIDID.items,
                                                      ifelse(cidid.criterion_A_score_numeric == 3 & cidid.criterion_A_score_numeric.NA > 1,
                                                             NA, cidid.lifetime_depression))

CIDID.items$cidid.lifetime_depression <- with(CIDID.items,
                                                      ifelse(cidid.criterion_A_score_numeric == 2 & cidid.criterion_A_score_numeric.NA > 2,
                                                             NA, cidid.lifetime_depression))

CIDID.items$cidid.lifetime_depression <- with(CIDID.items,
                                                      ifelse(cidid.criterion_A_score_numeric == 1 & cidid.criterion_A_score_numeric.NA > 3,
                                                             NA, cidid.lifetime_depression))

summary(as.factor(CIDID.items$cidid.lifetime_depression))

```

```{r recode as 0 if responded no to screeners}
#If both screening Qs are 0, lifetime depression is coded as 0 (not NA)
CIDID.items$cidid.lifetime_depression <- with(CIDID.items,
                                                      ifelse(
                                                        cidid.screener_numeric == 0, 
                                                        0, cidid.lifetime_depression
                                                               )
                                                        )

summary(as.factor(CIDID.items$cidid.lifetime_depression))
```

```{r merge lifetime depression variable into dataset}

CIDI.dep <- CIDID.items[,c("ID", "cidid.depression_screen.calc", "cidid.weight_appetite_change_numeric", "cidid.criterion_A_score_numeric", "cidid.criterion_A_score_numeric.NA", "cidid.lifetime_depression")]

CIDID.cc <- left_join(CIDID.cc, CIDI.dep, by = "ID")

```

## Recode calculated lifetime_depression variables

```{r lifetime_depression_screen recode}
summary(CIDID.cc$cidid.depression_screen.calc)

#Store old variable as unc
CIDID.cc$cidid.depression_screen.calc.unc <- NA
CIDID.cc$cidid.depression_screen.calc.unc <- CIDID.cc$cidid.depression_screen.calc

CIDID.cc$cidid.depression_screen.calc <- recode_factor(CIDID.cc$cidid.depression_screen.calc.unc,
                             "0" = "No",
                             "1" = "Yes")
```

```{r lifetime_depression_screen summary, results='asis'}
summarytools::freq(CIDID.cc$cidid.depression_screen.calc,
                   style = "rmarkdown")
```

```{r weight_appetite_change recode}
summary(CIDID.cc$cidid.weight_appetite_change_numeric)

#Store old variable as unc
CIDID.cc$cidid.weight_appetite_change_numeric.unc <- NA
CIDID.cc$cidid.weight_appetite_change_numeric.unc <- CIDID.cc$cidid.weight_appetite_change_numeric

#Recode as factor
CIDID.cc$cidid.weight_appetite_change_numeric <- recode_factor(CIDID.cc$cidid.weight_appetite_change_numeric.unc,
                             "0" = "No",
                             "1" = "Yes")
```

```{r weight_appetite_change summary, results='asis'}
summarytools::freq(CIDID.cc$cidid.weight_appetite_change_numeric,
                   style = "rmarkdown")
```

```{r lifetime_depression_total recode}
#Summary of raw variable
summary(CIDID.cc$cidid.criterion_A_score_numeric)

#Store old variable as unc
CIDID.cc$cidid.criterion_A_score_numeric.unc <- NA
CIDID.cc$cidid.criterion_A_score_numeric.unc <- CIDID.cc$cidid.criterion_A_score_numeric

CIDID.cc$cidid.criterion_A_score_numeric <- recode_factor(CIDID.cc$cidid.criterion_A_score_numeric.unc,
                             "0" = "None",                             
                             "1" = "One",
                             "2" = "Two",
                             "3" = "Three",
                             "4" = "Four",
                             "5" = "Five",
                             "6" = "Six",
                             "7" = "Seven",
                             "8" = "Eight")
#Summary of recoded variable
summary(CIDID.cc$cidid.criterion_A_score_numeric)
```

```{r lifetime_depression_total recode}
#Summary of raw variable
summary(CIDID.cc$cidid.criterion_A_score_numeric.NA)

#Store old variable as unc
CIDID.cc$cidid.criterion_A_score_numeric.NA.unc <- NA
CIDID.cc$cidid.criterion_A_score_numeric.NA.unc <- CIDID.cc$cidid.criterion_A_score_numeric.NA

CIDID.cc$cidid.criterion_A_score_numeric.NA <- recode_factor(CIDID.cc$cidid.criterion_A_score_numeric.NA.unc,
                             "0" = "None",                             
                             "1" = "One",
                             "2" = "Two",
                             "3" = "Three",
                             "4" = "Four",
                             "5" = "Five",
                             "6" = "Six",
                             "7" = "Seven",
                             "8" = "Eight")
#Summary of recoded variable
summary(CIDID.cc$cidid.criterion_A_score_numeric.NA)
```

```{r MDD diagnosis variable recode}
#Summary of raw variable
summary(CIDID.cc$cidid.lifetime_depression)

#Create new variable name and recode
CIDID.cc$cidid.diagnosis <- NA
CIDID.cc$cidid.diagnosis <- recode_factor(CIDID.cc$cidid.lifetime_depression,
                             "0" = "No MDD diagnosis",
                             "1" = "MDD diagnosis")
#Create numeric diagnosis variable
CIDID.cc$cidid.diagnosis_numeric <- CIDID.cc$cidid.lifetime_depression

#Summary of recoded variable
summary(CIDID.cc$cidid.diagnosis)
```

## Clean CIDID dataset

```{r clean CIDID dataframe}

CIDID.clean <- CIDID.cc %>%
  select(ID,
        cidid.low_mood,
        cidid.anhedonia,
        cidid.how_long,
        cidid.how_often,
        cidid.fatigue,
        cidid.skip,
        cidid.weight_change,
        cidid.weight_change_4kg,
        cidid.sleep_change,
        cidid.insomnia_trouble_sleeping,
        cidid.insomnia_waking_early,
        cidid.hypersomnia,
        cidid.insomnia_and_hypersomnia,
        cidid.average_sleep_depression,
        cidid.average_sleep,
        cidid.appetite_change,
        cidid.mood_reactivity,
        cidid.leaden_paralysis,
        cidid.duration_leaden_paralysis,
        cidid.rejection_sensitivity,
        cidid.diurnal_variation,
        cidid.trouble_concentrating,
        cidid.worthlessness,
        cidid.thoughts_of_death,
        cidid.duration,
        cidid.functioning,
        cidid.periods_of_depression,
        cidid.episodes,
        cidid.age_first_episode,
        cidid.age_last_episode,
        cidid.perinatal_depression,
        cidid.adverse_life_event,
        cidid.depression_screen.calc,
        cidid.weight_appetite_change_numeric,
        cidid.diagnosis_numeric,
        cidid.diagnosis)

#Export into a rds file:
saveRDS(object = CIDID.clean, file = paste0(cleaned_path, "CIDID_cleaned.rds"))

# Saves the R data including the recoding
#save.image(file = paste0(cleaned_path, "GLAD_CIDID_clean.RData")
```

